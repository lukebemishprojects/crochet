plugins {
    id 'java'
    id 'maven-publish'
    id 'dev.lukebemish.crochet'
}

java.withSourcesJar()

group = 'dev.lukebemish.crochet'
version = '1.0.0'

repositories {
    mavenCentral()
    maven {
        url = 'https://maven.fabricmc.net/'
    }
}

def mappings = crochet.mappings('officialToIntermediary')

crochet.setupConfigurations('', mappings, 'remapped')

dependencies {
    crochetMappingsOfficialToIntermediary 'net.fabricmc:intermediary:1.20.4'

    implementationRemapped 'dev.lukebemish.autoextension:autoextension:0.1.1'
}

publishing {
    publications {
        mavenJava(MavenPublication) {
            from components.java
        }
    }

    repositories {
        maven {
            name 'repo'
            url project.file('build/repo')
        }
    }
}
